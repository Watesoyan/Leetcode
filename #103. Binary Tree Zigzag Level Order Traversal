class Solution:
    def zigzagLevelOrder(self, root):
        """
        :type root: TreeNode
        :rtype: List[List[int]]
        """
        if root is None:
            return []
        
        from collections import deque
        
        layeridx = 1
        result = []
        tmproots = []
        nextroots = [root]
        tmpvals = []
        
        while len(nextroots) != 0:
            
            nextroots.reverse()
            tmproots = nextroots
            nextroots = []
        
            while len(tmproots) != 0:
                tmproot = tmproots.pop()
                tmpvals.append(tmproot.val)
            
                if tmproot.left is not None:
                    nextroots.append(tmproot.left)
            
                if tmproot.right is not None:
                    nextroots.append(tmproot.right)
            
            if layeridx % 2 == 0:
                tmpvals.reverse()
            result.append(tmpvals)
            tmpvals = []
            layeridx += 1
            
        return result      
