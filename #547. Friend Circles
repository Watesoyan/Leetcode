class Solution:
    def findCircleNum(self, M):
        """
        :type M: List[List[int]]
        :rtype: int
        """
        n = len(M)
        
        if n == 1:
            return 1
        
        notfound = list(range(n))
        
        # n>=3ï¼š
        idx = 0
        
        while not len(notfound):
            if len(notfound) == 1:
                return idx + 1
            
            i = notfound[0]
            friends = [i]
            newfriends = [i]
            
            while not len(newfriends):
                i = newfriends.pop()
                for j in notfound:
                    if i != j and j not in friends and M[i][j] == 1:
                        friends.append(j)
                        newfriends.append(j)
            
            idx += 1
            tmp = []
            for v in notfound:
                if v not in friends:
                    tmp.append(v)
            notfound = tmp
            
        return idx   
